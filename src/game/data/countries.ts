export interface Country {
  code: string;
  name: string;
  region: 'europe' | 'americas' | 'asia' | 'africa' | 'oceania';
  gdpPerCapita: number;
  lifeExpectancy: number;
  costOfLivingIndex: number;
  educationIndex: number;
  safetyIndex: number;
  language: string;
  startingWealth: { min: number; max: number };
  traits: string[];
}

/**
 * 30 real countries with approximate real-world data (2023-2024 estimates).
 *
 * Sources (approximate):
 *  - GDP per capita (USD PPP): IMF / World Bank
 *  - Life expectancy: WHO
 *  - Cost of Living Index: Numbeo (US = 100 baseline)
 *  - Education Index: UNDP HDR (0-1 scale)
 *  - Safety Index: Numbeo / GPI composite (0-100, higher = safer)
 *  - Population weights: UN 2023 estimates
 *
 * startingWealth is a game-balance range loosely tied to median household wealth.
 * Names are in Spanish.
 */
export const COUNTRIES: Country[] = [
  // ── Europe ──────────────────────────────────────────────
  {
    code: 'ES',
    name: 'España',
    region: 'europe',
    gdpPerCapita: 42_200,
    lifeExpectancy: 83.6,
    costOfLivingIndex: 58,
    educationIndex: 0.83,
    safetyIndex: 66,
    language: 'es',
    startingWealth: { min: 8_000, max: 25_000 },
    traits: ['siesta', 'pasión por el fútbol', 'gastronomía mediterránea'],
  },
  {
    code: 'DE',
    name: 'Alemania',
    region: 'europe',
    gdpPerCapita: 56_000,
    lifeExpectancy: 81.2,
    costOfLivingIndex: 65,
    educationIndex: 0.94,
    safetyIndex: 65,
    language: 'de',
    startingWealth: { min: 12_000, max: 35_000 },
    traits: ['ingeniería de precisión', 'autobahn', 'cultura cervecera'],
  },
  {
    code: 'FR',
    name: 'Francia',
    region: 'europe',
    gdpPerCapita: 47_000,
    lifeExpectancy: 82.5,
    costOfLivingIndex: 74,
    educationIndex: 0.89,
    safetyIndex: 55,
    language: 'fr',
    startingWealth: { min: 10_000, max: 30_000 },
    traits: ['haute cuisine', 'moda', 'vino y queso'],
  },
  {
    code: 'GB',
    name: 'Reino Unido',
    region: 'europe',
    gdpPerCapita: 49_000,
    lifeExpectancy: 81.0,
    costOfLivingIndex: 70,
    educationIndex: 0.92,
    safetyIndex: 58,
    language: 'en',
    startingWealth: { min: 10_000, max: 32_000 },
    traits: ['té de las cinco', 'monarquía', 'humor seco'],
  },
  {
    code: 'IT',
    name: 'Italia',
    region: 'europe',
    gdpPerCapita: 42_000,
    lifeExpectancy: 83.5,
    costOfLivingIndex: 62,
    educationIndex: 0.82,
    safetyIndex: 60,
    language: 'it',
    startingWealth: { min: 8_000, max: 26_000 },
    traits: ['diseño italiano', 'pasta artesanal', 'gestos expresivos'],
  },
  {
    code: 'PT',
    name: 'Portugal',
    region: 'europe',
    gdpPerCapita: 36_000,
    lifeExpectancy: 81.9,
    costOfLivingIndex: 48,
    educationIndex: 0.78,
    safetyIndex: 72,
    language: 'pt',
    startingWealth: { min: 6_000, max: 20_000 },
    traits: ['fado', 'pastéis de nata', 'navegantes'],
  },
  {
    code: 'SE',
    name: 'Suecia',
    region: 'europe',
    gdpPerCapita: 58_000,
    lifeExpectancy: 83.2,
    costOfLivingIndex: 73,
    educationIndex: 0.93,
    safetyIndex: 63,
    language: 'sv',
    startingWealth: { min: 14_000, max: 38_000 },
    traits: ['lagom', 'diseño minimalista', 'bienestar social'],
  },
  {
    code: 'NO',
    name: 'Noruega',
    region: 'europe',
    gdpPerCapita: 82_000,
    lifeExpectancy: 83.3,
    costOfLivingIndex: 101,
    educationIndex: 0.94,
    safetyIndex: 72,
    language: 'no',
    startingWealth: { min: 18_000, max: 45_000 },
    traits: ['fiordos', 'fondo petrolero', 'friluftsliv'],
  },
  {
    code: 'PL',
    name: 'Polonia',
    region: 'europe',
    gdpPerCapita: 40_000,
    lifeExpectancy: 77.5,
    costOfLivingIndex: 40,
    educationIndex: 0.87,
    safetyIndex: 68,
    language: 'pl',
    startingWealth: { min: 5_000, max: 18_000 },
    traits: ['resiliencia histórica', 'pierogi', 'industria tech emergente'],
  },
  {
    code: 'RU',
    name: 'Rusia',
    region: 'europe',
    gdpPerCapita: 30_000,
    lifeExpectancy: 73.4,
    costOfLivingIndex: 33,
    educationIndex: 0.83,
    safetyIndex: 42,
    language: 'ru',
    startingWealth: { min: 3_000, max: 15_000 },
    traits: ['inviernos extremos', 'cultura literaria', 'recursos naturales'],
  },

  // ── Américas ────────────────────────────────────────────
  {
    code: 'US',
    name: 'Estados Unidos',
    region: 'americas',
    gdpPerCapita: 76_000,
    lifeExpectancy: 77.5,
    costOfLivingIndex: 100,
    educationIndex: 0.90,
    safetyIndex: 51,
    language: 'en',
    startingWealth: { min: 5_000, max: 40_000 },
    traits: ['cultura del automóvil', 'diversidad cultural', 'emprendimiento'],
  },
  {
    code: 'CA',
    name: 'Canadá',
    region: 'americas',
    gdpPerCapita: 54_000,
    lifeExpectancy: 82.3,
    costOfLivingIndex: 72,
    educationIndex: 0.93,
    safetyIndex: 62,
    language: 'en',
    startingWealth: { min: 12_000, max: 35_000 },
    traits: ['multiculturalismo', 'hockey sobre hielo', 'naturaleza salvaje'],
  },
  {
    code: 'MX',
    name: 'México',
    region: 'americas',
    gdpPerCapita: 21_000,
    lifeExpectancy: 75.1,
    costOfLivingIndex: 32,
    educationIndex: 0.70,
    safetyIndex: 40,
    language: 'es',
    startingWealth: { min: 2_000, max: 12_000 },
    traits: ['tradición ancestral', 'gastronomía rica', 'familia extensa'],
  },
  {
    code: 'BR',
    name: 'Brasil',
    region: 'americas',
    gdpPerCapita: 17_000,
    lifeExpectancy: 75.9,
    costOfLivingIndex: 34,
    educationIndex: 0.69,
    safetyIndex: 35,
    language: 'pt',
    startingWealth: { min: 1_500, max: 10_000 },
    traits: ['carnaval', 'fútbol', 'biodiversidad amazónica'],
  },
  {
    code: 'AR',
    name: 'Argentina',
    region: 'americas',
    gdpPerCapita: 23_000,
    lifeExpectancy: 76.7,
    costOfLivingIndex: 30,
    educationIndex: 0.83,
    safetyIndex: 44,
    language: 'es',
    startingWealth: { min: 1_500, max: 10_000 },
    traits: ['tango', 'asado', 'pasión futbolera'],
  },
  {
    code: 'CO',
    name: 'Colombia',
    region: 'americas',
    gdpPerCapita: 16_500,
    lifeExpectancy: 77.3,
    costOfLivingIndex: 28,
    educationIndex: 0.68,
    safetyIndex: 40,
    language: 'es',
    startingWealth: { min: 1_200, max: 8_000 },
    traits: ['café de exportación', 'biodiversidad', 'alegría contagiosa'],
  },
  {
    code: 'CL',
    name: 'Chile',
    region: 'americas',
    gdpPerCapita: 28_000,
    lifeExpectancy: 80.2,
    costOfLivingIndex: 42,
    educationIndex: 0.81,
    safetyIndex: 56,
    language: 'es',
    startingWealth: { min: 3_000, max: 15_000 },
    traits: ['minería de cobre', 'vino chileno', 'geografía extrema'],
  },
  {
    code: 'PE',
    name: 'Perú',
    region: 'americas',
    gdpPerCapita: 14_500,
    lifeExpectancy: 76.5,
    costOfLivingIndex: 30,
    educationIndex: 0.71,
    safetyIndex: 42,
    language: 'es',
    startingWealth: { min: 1_000, max: 7_000 },
    traits: ['herencia inca', 'gastronomía premiada', 'altiplano andino'],
  },

  // ── Asia ────────────────────────────────────────────────
  {
    code: 'JP',
    name: 'Japón',
    region: 'asia',
    gdpPerCapita: 44_000,
    lifeExpectancy: 84.8,
    costOfLivingIndex: 74,
    educationIndex: 0.90,
    safetyIndex: 78,
    language: 'ja',
    startingWealth: { min: 10_000, max: 30_000 },
    traits: ['disciplina', 'tecnología avanzada', 'respeto por la tradición'],
  },
  {
    code: 'KR',
    name: 'Corea del Sur',
    region: 'asia',
    gdpPerCapita: 47_000,
    lifeExpectancy: 83.7,
    costOfLivingIndex: 68,
    educationIndex: 0.90,
    safetyIndex: 70,
    language: 'ko',
    startingWealth: { min: 8_000, max: 28_000 },
    traits: ['K-pop', 'presión académica', 'tecnología punta'],
  },
  {
    code: 'CN',
    name: 'China',
    region: 'asia',
    gdpPerCapita: 21_500,
    lifeExpectancy: 78.2,
    costOfLivingIndex: 38,
    educationIndex: 0.73,
    safetyIndex: 65,
    language: 'zh',
    startingWealth: { min: 2_000, max: 14_000 },
    traits: ['milenios de historia', 'manufactura global', 'crecimiento acelerado'],
  },
  {
    code: 'IN',
    name: 'India',
    region: 'asia',
    gdpPerCapita: 9_000,
    lifeExpectancy: 70.8,
    costOfLivingIndex: 24,
    educationIndex: 0.57,
    safetyIndex: 45,
    language: 'hi',
    startingWealth: { min: 500, max: 5_000 },
    traits: ['diversidad cultural inmensa', 'industria IT', 'espiritualidad'],
  },
  {
    code: 'TH',
    name: 'Tailandia',
    region: 'asia',
    gdpPerCapita: 19_000,
    lifeExpectancy: 78.7,
    costOfLivingIndex: 35,
    educationIndex: 0.69,
    safetyIndex: 55,
    language: 'th',
    startingWealth: { min: 1_500, max: 9_000 },
    traits: ['tierra de sonrisas', 'street food', 'templos budistas'],
  },
  {
    code: 'PH',
    name: 'Filipinas',
    region: 'asia',
    gdpPerCapita: 10_000,
    lifeExpectancy: 71.7,
    costOfLivingIndex: 28,
    educationIndex: 0.66,
    safetyIndex: 48,
    language: 'tl',
    startingWealth: { min: 800, max: 5_000 },
    traits: ['resiliencia ante tifones', 'hospitalidad', 'diáspora global'],
  },
  {
    code: 'TR',
    name: 'Turquía',
    region: 'asia',
    gdpPerCapita: 35_000,
    lifeExpectancy: 76.0,
    costOfLivingIndex: 30,
    educationIndex: 0.76,
    safetyIndex: 52,
    language: 'tr',
    startingWealth: { min: 2_500, max: 12_000 },
    traits: ['puente entre continentes', 'bazar histórico', 'té turco'],
  },

  // ── África ──────────────────────────────────────────────
  {
    code: 'NG',
    name: 'Nigeria',
    region: 'africa',
    gdpPerCapita: 5_800,
    lifeExpectancy: 53.9,
    costOfLivingIndex: 26,
    educationIndex: 0.53,
    safetyIndex: 30,
    language: 'en',
    startingWealth: { min: 300, max: 3_000 },
    traits: ['Nollywood', 'juventud emprendedora', 'gigante africano'],
  },
  {
    code: 'ZA',
    name: 'Sudáfrica',
    region: 'africa',
    gdpPerCapita: 15_000,
    lifeExpectancy: 64.9,
    costOfLivingIndex: 33,
    educationIndex: 0.70,
    safetyIndex: 28,
    language: 'en',
    startingWealth: { min: 800, max: 6_000 },
    traits: ['nación arcoíris', 'safari', 'desigualdad extrema'],
  },
  {
    code: 'EG',
    name: 'Egipto',
    region: 'africa',
    gdpPerCapita: 14_000,
    lifeExpectancy: 72.0,
    costOfLivingIndex: 22,
    educationIndex: 0.63,
    safetyIndex: 50,
    language: 'ar',
    startingWealth: { min: 600, max: 4_500 },
    traits: ['herencia faraónica', 'canal de Suez', 'cultura milenaria'],
  },
  {
    code: 'MA',
    name: 'Marruecos',
    region: 'africa',
    gdpPerCapita: 9_500,
    lifeExpectancy: 74.0,
    costOfLivingIndex: 27,
    educationIndex: 0.56,
    safetyIndex: 58,
    language: 'ar',
    startingWealth: { min: 500, max: 4_000 },
    traits: ['zocos vibrantes', 'puerta a África', 'hospitalidad bereber'],
  },

  // ── Oceanía ─────────────────────────────────────────────
  {
    code: 'AU',
    name: 'Australia',
    region: 'oceania',
    gdpPerCapita: 55_000,
    lifeExpectancy: 83.3,
    costOfLivingIndex: 80,
    educationIndex: 0.93,
    safetyIndex: 60,
    language: 'en',
    startingWealth: { min: 14_000, max: 40_000 },
    traits: ['fauna letal', 'outback', 'cultura surfista'],
  },
];

// ── Population weights (millions, UN 2023 approx) ───────────
const POPULATION_WEIGHTS: Record<string, number> = {
  ES: 47,
  DE: 84,
  FR: 68,
  GB: 67,
  IT: 59,
  PT: 10,
  SE: 10,
  NO: 5,
  PL: 38,
  RU: 144,
  US: 335,
  CA: 40,
  MX: 128,
  BR: 215,
  AR: 46,
  CO: 52,
  CL: 19,
  PE: 34,
  JP: 124,
  KR: 52,
  CN: 1_425,
  IN: 1_430,
  TH: 72,
  PH: 115,
  TR: 85,
  NG: 223,
  ZA: 60,
  EG: 110,
  MA: 37,
  AU: 26,
};

/**
 * Returns a random country weighted by approximate population.
 * Higher-population countries are more likely to be selected.
 */
export function getRandomCountry(): Country {
  const totalWeight = COUNTRIES.reduce(
    (sum, c) => sum + (POPULATION_WEIGHTS[c.code] ?? 1),
    0,
  );

  let roll = Math.random() * totalWeight;

  for (const country of COUNTRIES) {
    roll -= POPULATION_WEIGHTS[country.code] ?? 1;
    if (roll <= 0) return country;
  }

  // Fallback (shouldn't happen)
  return COUNTRIES[COUNTRIES.length - 1];
}
